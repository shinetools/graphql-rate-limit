"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
// eslint-disable-next-line import/no-extraneous-dependencies
const ava_1 = __importDefault(require("ava"));
const in_memory_store_1 = require("./in-memory-store");
ava_1.default('InMemoryStore sets correct timestamps', t => {
    const store = new in_memory_store_1.InMemoryStore();
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }, [
        1,
        2,
        3
    ]);
    t.deepEqual(store.state, { foo: { bar: [1, 2, 3] } });
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar2' }, [
        4,
        5
    ]);
    t.deepEqual(store.state, { foo: { bar: [1, 2, 3], bar2: [4, 5] } });
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }, [
        10,
        20
    ]);
    t.deepEqual(store.state, { foo: { bar: [10, 20], bar2: [4, 5] } });
});
ava_1.default('InMemoryStore get correct timestamps', t => {
    const store = new in_memory_store_1.InMemoryStore();
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }, [
        1,
        2,
        3
    ]);
    t.deepEqual(store.getForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }), [1, 2, 3]);
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar2' }, [
        4,
        5
    ]);
    t.deepEqual(store.getForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar2' }), [4, 5]);
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }, [
        10,
        20
    ]);
    t.deepEqual(store.getForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }), [10, 20]);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW4tbWVtb3J5LXN0b3JlLnNwZWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL2luLW1lbW9yeS1zdG9yZS5zcGVjLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsNkRBQTZEO0FBQzdELDhDQUF1QjtBQUN2Qix1REFBa0Q7QUFFbEQsYUFBSSxDQUFDLHVDQUF1QyxFQUFFLENBQUMsQ0FBQyxFQUFFO0lBQ2hELE1BQU0sS0FBSyxHQUFHLElBQUksK0JBQWEsRUFBRSxDQUFDO0lBQ2xDLEtBQUssQ0FBQyxjQUFjLENBQUMsRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUNyRSxDQUFDO1FBQ0QsQ0FBQztRQUNELENBQUM7S0FDRixDQUFDLENBQUM7SUFDSCxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRXRELEtBQUssQ0FBQyxjQUFjLENBQUMsRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsRUFBRTtRQUN0RSxDQUFDO1FBQ0QsQ0FBQztLQUNGLENBQUMsQ0FBQztJQUNILENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRXBFLEtBQUssQ0FBQyxjQUFjLENBQUMsRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUNyRSxFQUFFO1FBQ0YsRUFBRTtLQUNILENBQUMsQ0FBQztJQUNILENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDckUsQ0FBQyxDQUFDLENBQUM7QUFFSCxhQUFJLENBQUMsc0NBQXNDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7SUFDL0MsTUFBTSxLQUFLLEdBQUcsSUFBSSwrQkFBYSxFQUFFLENBQUM7SUFDbEMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxFQUFFLGVBQWUsRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxFQUFFO1FBQ3JFLENBQUM7UUFDRCxDQUFDO1FBQ0QsQ0FBQztLQUNGLENBQUMsQ0FBQztJQUNILENBQUMsQ0FBQyxTQUFTLENBQ1QsS0FBSyxDQUFDLGNBQWMsQ0FBQyxFQUFFLGVBQWUsRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQ3RFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FDVixDQUFDO0lBRUYsS0FBSyxDQUFDLGNBQWMsQ0FBQyxFQUFFLGVBQWUsRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQ3RFLENBQUM7UUFDRCxDQUFDO0tBQ0YsQ0FBQyxDQUFDO0lBQ0gsQ0FBQyxDQUFDLFNBQVMsQ0FDVCxLQUFLLENBQUMsY0FBYyxDQUFDLEVBQUUsZUFBZSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFDdkUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQ1AsQ0FBQztJQUVGLEtBQUssQ0FBQyxjQUFjLENBQUMsRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUNyRSxFQUFFO1FBQ0YsRUFBRTtLQUNILENBQUMsQ0FBQztJQUNILENBQUMsQ0FBQyxTQUFTLENBQ1QsS0FBSyxDQUFDLGNBQWMsQ0FBQyxFQUFFLGVBQWUsRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQ3RFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUNULENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQyJ9