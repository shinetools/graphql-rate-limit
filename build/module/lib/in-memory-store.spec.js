// eslint-disable-next-line import/no-extraneous-dependencies
import test from 'ava';
import { InMemoryStore } from './in-memory-store';
test('InMemoryStore sets correct timestamps', t => {
    const store = new InMemoryStore();
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }, [
        1,
        2,
        3
    ]);
    t.deepEqual(store.state, { foo: { bar: [1, 2, 3] } });
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar2' }, [
        4,
        5
    ]);
    t.deepEqual(store.state, { foo: { bar: [1, 2, 3], bar2: [4, 5] } });
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }, [
        10,
        20
    ]);
    t.deepEqual(store.state, { foo: { bar: [10, 20], bar2: [4, 5] } });
});
test('InMemoryStore get correct timestamps', t => {
    const store = new InMemoryStore();
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }, [
        1,
        2,
        3
    ]);
    t.deepEqual(store.getForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }), [1, 2, 3]);
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar2' }, [
        4,
        5
    ]);
    t.deepEqual(store.getForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar2' }), [4, 5]);
    store.setForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }, [
        10,
        20
    ]);
    t.deepEqual(store.getForIdentity({ contextIdentity: 'foo', fieldIdentity: 'bar' }), [10, 20]);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW4tbWVtb3J5LXN0b3JlLnNwZWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL2luLW1lbW9yeS1zdG9yZS5zcGVjLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDZEQUE2RDtBQUM3RCxPQUFPLElBQUksTUFBTSxLQUFLLENBQUM7QUFDdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWxELElBQUksQ0FBQyx1Q0FBdUMsRUFBRSxDQUFDLENBQUMsRUFBRTtJQUNoRCxNQUFNLEtBQUssR0FBRyxJQUFJLGFBQWEsRUFBRSxDQUFDO0lBQ2xDLEtBQUssQ0FBQyxjQUFjLENBQUMsRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUNyRSxDQUFDO1FBQ0QsQ0FBQztRQUNELENBQUM7S0FDRixDQUFDLENBQUM7SUFDSCxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRXRELEtBQUssQ0FBQyxjQUFjLENBQUMsRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsRUFBRTtRQUN0RSxDQUFDO1FBQ0QsQ0FBQztLQUNGLENBQUMsQ0FBQztJQUNILENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRXBFLEtBQUssQ0FBQyxjQUFjLENBQUMsRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUNyRSxFQUFFO1FBQ0YsRUFBRTtLQUNILENBQUMsQ0FBQztJQUNILENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDckUsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsc0NBQXNDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7SUFDL0MsTUFBTSxLQUFLLEdBQUcsSUFBSSxhQUFhLEVBQUUsQ0FBQztJQUNsQyxLQUFLLENBQUMsY0FBYyxDQUFDLEVBQUUsZUFBZSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDckUsQ0FBQztRQUNELENBQUM7UUFDRCxDQUFDO0tBQ0YsQ0FBQyxDQUFDO0lBQ0gsQ0FBQyxDQUFDLFNBQVMsQ0FDVCxLQUFLLENBQUMsY0FBYyxDQUFDLEVBQUUsZUFBZSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFDdEUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUNWLENBQUM7SUFFRixLQUFLLENBQUMsY0FBYyxDQUFDLEVBQUUsZUFBZSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsTUFBTSxFQUFFLEVBQUU7UUFDdEUsQ0FBQztRQUNELENBQUM7S0FDRixDQUFDLENBQUM7SUFDSCxDQUFDLENBQUMsU0FBUyxDQUNULEtBQUssQ0FBQyxjQUFjLENBQUMsRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUN2RSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FDUCxDQUFDO0lBRUYsS0FBSyxDQUFDLGNBQWMsQ0FBQyxFQUFFLGVBQWUsRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxFQUFFO1FBQ3JFLEVBQUU7UUFDRixFQUFFO0tBQ0gsQ0FBQyxDQUFDO0lBQ0gsQ0FBQyxDQUFDLFNBQVMsQ0FDVCxLQUFLLENBQUMsY0FBYyxDQUFDLEVBQUUsZUFBZSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFDdEUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQ1QsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDIn0=